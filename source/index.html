<!DOCTYPE html>
<html>
<head>

    <title>Labyrinth-Prototyp</title>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <!--styling-->
    <link rel="stylesheet" type="text/css" href="resources/css/style.css">  

    <!--libraries and third party software-->
    <script src="libraries/three.r68.js"></script>
    <script src="libraries/FpsControls.js"></script>
    
    <!--helper for more functunality-->
    <script src="helper/math.js"></script>
    <script src="helper/ajax.js"></script>
    
    <!--model (MVC)-->
    <script src="model/lab_GameModel.js"></script>
    <script src="model/lab_EntityModel.js"></script>
    <script src="model/lab_PlayerModel.js"></script>
    
    <!--view (MVC)-->
    <script src="view/lab_AbstractRenderer.js"></script>
    <script src="view/lab_LabyrinthRenderer.js"></script>
    <script src="view/lab_RepresentationLoader.js"></script>
    
    <!--controller (MVC)-->
    <script src="controller/lab_GameController.js"></script>
    <script src="controller/lab_LevelController.js"></script>
    
</head>
<body>
        
    <!--wrapper for the game drawings-->
    <div id="wrapper">
        
        <!--instructions overlay-->
        <div id="instructions" style="">
            <span style="font-size:40px">Zum Spielen klicken!</span>
        </div>
        
        <!--crosshair overlay-->
        <div id="crosshair">
            <img src="resources/images/crosshair.png" alt="crosshair"/>
        </div>
        
    </div>

    <script>
                
        // creating new game controller and initialize game
        var gameController = new lab_GameController('wrapper');
        gameController.initGame();
        
        run();
        
        // starting game and make this funtion the game loop
        function run(){
            
            requestAnimationFrame(run);
                        
            // update model over game controller
            gameController.update();
            
            // do rendering
            render();
            
        }
        
        // rendering within the game loop happens here
        function render(){
            gameController.labyrinthRenderer.render(gameController.scene3D, gameController.camera);
        }
        
    </script>
    
</body>
</html>
